<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ½ï¸ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø¹Ù… - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Header Styles */
        .header {
            background: white;
            border-radius: 15px 15px 0 0;
            padding: 25px 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--secondary);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo h1 {
            color: var(--primary);
            font-size: 28px;
        }
        
        .logo-icon {
            font-size: 36px;
            color: var(--secondary);
        }
        
        .user-info {
            background: var(--light);
            padding: 10px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* Main Navigation */
        .main-nav {
            background: white;
            padding: 0 30px;
            border-bottom: 2px solid var(--light);
            display: flex;
            gap: 10px;
        }
        
        .nav-tab {
            padding: 15px 25px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--dark);
        }
        
        .nav-tab:hover {
            color: var(--secondary);
            border-bottom: 3px solid var(--secondary);
        }
        
        .nav-tab.active {
            color: var(--secondary);
            border-bottom: 3px solid var(--secondary);
            background: #f8f9fa;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        /* Main Content */
        .main-content {
            min-height: 700px;
            background: white;
            border-radius: 0 0 15px 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        /* Page Container */
        .page-container {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.3s ease;
            pointer-events: none;
            overflow-y: auto;
            padding: 30px;
        }
        
        .page-container.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }
        
        /* Login Page */
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }
        
        .login-title {
            text-align: center;
            color: var(--primary);
            margin-bottom: 30px;
            font-size: 24px;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        /* Card Styles */
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #eee;
        }
        
        .page-title {
            color: var(--primary);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .page-icon {
            font-size: 32px;
            color: var(--secondary);
        }
        
        .card-title {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-icon {
            color: var(--secondary);
        }
        
        /* Button Styles */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
        }
        
        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-top: 5px solid var(--secondary);
        }
        
        .stat-icon {
            font-size: 40px;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
        
        /* Table Styles */
        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .table {
            width: 100%;
            background: white;
            border-collapse: collapse;
        }
        
        .table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: right;
            font-weight: 500;
        }
        
        .table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .table tr:hover {
            background: #f8f9fa;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            background: var(--light);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 25px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            color: var(--dark);
        }
        
        .tab-btn.active {
            background: var(--secondary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            padding: 30px;
            animation: modalSlide 0.3s ease;
        }
        
        @keyframes modalSlide {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Alert Messages */
        .alert {
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        /* Badge */
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .badge-success {
            background: var(--success);
            color: white;
        }
        
        .badge-warning {
            background: var(--warning);
            color: white;
        }
        
        .badge-primary {
            background: var(--secondary);
            color: white;
        }
        
        /* Page Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .page-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Time Display */
        .time-display {
            background: var(--light);
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            color: var(--secondary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-nav {
                flex-wrap: wrap;
                padding: 10px;
            }
            
            .nav-tab {
                flex: 1;
                min-width: 120px;
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .page-container {
                padding: 20px;
            }
        }
        
        /* Utility Classes */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-primary { color: var(--secondary); }
        .text-success { color: var(--success); }
        .text-danger { color: var(--danger); }
        .text-warning { color: var(--warning); }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .p-20 { padding: 20px; }
        .d-none { display: none; }
        .d-flex { display: flex; }
        .d-block { display: block; }
        .justify-between { justify-content: space-between; }
        .align-center { align-items: center; }
        .gap-10 { gap: 10px; }
        .gap-20 { gap: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Screen -->
        <div id="loginScreen" class="login-container">
            <div class="logo mb-20" style="justify-content: center;">
                <div class="logo-icon">ğŸ½ï¸</div>
                <h1>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø¹Ù…</h1>
            </div>
            
            <h2 class="login-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            
            <div id="loginAlert" class="alert alert-danger d-none">
                âš ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="username" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">
                    <span>ğŸš€ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
                </button>
            </form>
            
            <div class="mt-20 text-center">
                <small>ğŸ’¡ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: admin / admin123</small>
            </div>
        </div>

        <!-- Main Application (Initially Hidden) -->
        <div id="appScreen" class="d-none">
            <!-- Header -->
            <div class="header">
                <div class="logo">
                    <div class="logo-icon">ğŸ½ï¸</div>
                    <h1>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø¹Ù…</h1>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">Ù…</div>
                    <div>
                        <div id="userName">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</div>
                        <div id="userRole" class="badge badge-primary">ÙƒØ§Ø´ÙŠØ±</div>
                    </div>
                    <button onclick="logout()" class="btn btn-danger">
                        <span>ğŸšª Ø®Ø±ÙˆØ¬</span>
                    </button>
                </div>
            </div>

            <!-- Main Navigation -->
            <div class="main-nav">
                <button class="nav-tab active" onclick="showPage('dashboard')">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
                </button>
                <button class="nav-tab" onclick="showPage('sales')">
                    <span class="nav-icon">ğŸ’°</span>
                    <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</span>
                </button>
                <button class="nav-tab" onclick="showPage('benefits')">
                    <span class="nav-icon">ğŸ</span>
                    <span>Ø§Ù„Ù…Ø²Ø§ÙŠØ§</span>
                </button>
                <button class="nav-tab" onclick="showPage('attendance')">
                    <span class="nav-icon">â°</span>
                    <span>Ø§Ù„Ø­Ø¶ÙˆØ±</span>
                </button>
                <button class="nav-tab" onclick="showPage('reports')">
                    <span class="nav-icon">ğŸ“ˆ</span>
                    <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</span>
                </button>
                <button class="nav-tab" id="adminTab" onclick="showPage('admin')" style="display: none;">
                    <span class="nav-icon">ğŸ‘‘</span>
                    <span>Ø§Ù„Ù…Ø¯ÙŠØ±</span>
                </button>
                <button class="nav-tab" onclick="showPage('profile')">
                    <span class="nav-icon">ğŸ‘¤</span>
                    <span>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
                </button>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page-container active">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ“Š</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                        </div>
                        <div id="currentTime" class="time-display"></div>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ’°</div>
                            <div class="stat-value" id="totalSales">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ’µ</div>
                            <div class="stat-value" id="totalCommission">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ</div>
                            <div class="stat-value" id="totalBenefits">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">â°</div>
                            <div class="stat-value" id="totalHours">0</div>
                            <div class="stat-label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="card">
                        <h3 class="card-title">âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
                        <div class="d-flex gap-20" style="flex-wrap: wrap;">
                            <button onclick="showPage('sales')" class="btn btn-primary">
                                <span>â•</span>
                                <span>ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹</span>
                            </button>
                            <button onclick="checkIn()" class="btn btn-success">
                                <span>âœ…</span>
                                <span>ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±</span>
                            </button>
                            <button onclick="showPage('benefits')" class="btn btn-warning">
                                <span>ğŸ</span>
                                <span>Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</span>
                            </button>
                            <button onclick="showPage('attendance')" class="btn btn-primary">
                                <span>â°</span>
                                <span>Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="card">
                        <h3 class="card-title">ğŸ”„ Ø¢Ø®Ø± Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„Ù†Ø´Ø§Ø·</th>
                                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    </tr>
                                </thead>
                                <tbody id="recentActivityTable">
                                    <tr>
                                        <td>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</td>
                                        <td>Ø§Ù„ÙŠÙˆÙ… - 09:00</td>
                                        <td><span class="badge badge-success">Ù…ÙƒØªÙ…Ù„</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Sales Page -->
                <div id="salesPage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ’°</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Sale Form -->
                    <div class="card mb-30">
                        <h3 class="card-title">â• ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹ Ø¬Ø¯ÙŠØ¯Ø©</h3>
                        <form id="saleForm">
                            <div class="form-group">
                                <label class="form-label">ğŸ’µ Ù…Ø¨Ù„Øº Ø§Ù„Ø¨ÙŠØ¹</label>
                                <input type="number" id="saleAmount" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" required min="1" step="0.01">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ“¦ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                <input type="text" id="orderNumber" class="form-control" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ“Š Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©</label>
                                <select id="commissionRate" class="form-control">
                                    <option value="0.05">5% (Ø§ÙØªØ±Ø§Ø¶ÙŠ)</option>
                                    <option value="0.07">7%</option>
                                    <option value="0.1">10%</option>
                                </select>
                            </div>
                            
                            <div class="alert alert-warning" id="commissionPreview">
                                ğŸ’° Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: <span id="commissionAmount">0.00</span> Ø¬Ù†ÙŠÙ‡
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-block">
                                <span>âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ¹</span>
                            </button>
                        </form>
                    </div>
                    
                    <!-- Today's Sales -->
                    <div class="card">
                        <h3 class="card-title">ğŸ“… Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…</h3>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                                        <th>Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©</th>
                                        <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                        <th>Ø§Ù„ÙˆÙ‚Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="todaySalesTable">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Benefits Page -->
                <div id="benefitsPage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ø§Ù„Ù…Ø²Ø§ÙŠØ§ ÙˆØ§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Benefits Summary -->
                    <div class="stats-container mb-30">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ’°</div>
                            <div class="stat-value" id="monthBenefits">0.00</div>
                            <div class="stat-label">Ù…Ø²Ø§ÙŠØ§ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“ˆ</div>
                            <div class="stat-value" id="totalCommissions">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ¯</div>
                            <div class="stat-value" id="avgBenefit">0.00</div>
                            <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø§ÙŠØ§</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“…</div>
                            <div class="stat-value" id="benefitsCount">0</div>
                            <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</div>
                        </div>
                    </div>
                    
                    <!-- Benefits List -->
                    <div class="card">
                        <h3 class="card-title">ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø²Ø§ÙŠØ§ ÙˆØ§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</h3>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„Ù†ÙˆØ¹</th>
                                        <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                        <th>Ø§Ù„ÙˆØµÙ</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    </tr>
                                </thead>
                                <tbody id="benefitsTable">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Benefits Types -->
                    <div class="card mt-30">
                        <h3 class="card-title">ğŸ“Š Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</h3>
                        <div class="d-flex gap-20" style="flex-wrap: wrap;">
                            <div class="benefit-type">
                                <div class="badge badge-primary">Ù…ÙƒØ§ÙØ£Ø©</div>
                                <small>Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…ØªÙ…ÙŠØ²</small>
                            </div>
                            <div class="benefit-type">
                                <div class="badge badge-success">Ø¨Ø¯Ù„</div>
                                <small>Ø¨Ø¯Ù„ Ù…ÙˆØ§ØµÙ„Ø§Øª ÙˆÙˆØ¬Ø¨Ø§Øª</small>
                            </div>
                            <div class="benefit-type">
                                <div class="badge badge-warning">Ø­Ø§ÙØ²</div>
                                <small>Ø­ÙˆØ§ÙØ² Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</small>
                            </div>
                            <div class="benefit-type">
                                <div class="badge badge-primary">Ø¹Ù…ÙˆÙ„Ø©</div>
                                <small>Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Attendance Page -->
                <div id="attendancePage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">â°</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Current Status -->
                    <div class="card mb-30">
                        <h3 class="card-title">ğŸ“… Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…</h3>
                        <div class="d-flex align-center justify-between mb-20">
                            <div>
                                <div id="attendanceStatus" class="badge badge-warning" style="font-size: 16px; padding: 10px 20px;">Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±</div>
                                <div class="mt-10 text-primary" id="workHours">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ…: 0 Ø³Ø§Ø¹Ø©</div>
                            </div>
                            <div class="d-flex gap-20">
                                <button onclick="checkIn()" class="btn btn-success" id="checkInBtn">
                                    <span>âœ… ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±</span>
                                </button>
                                <button onclick="checkOut()" class="btn btn-danger" id="checkOutBtn" disabled>
                                    <span>ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù†ØµØ±Ø§Ù</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="alert alert-warning">
                            â° Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠØ©: Ù…Ù† 9:00 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 5:00 Ù…Ø³Ø§Ø¡Ù‹
                        </div>
                    </div>
                    
                    <!-- Monthly Report -->
                    <div class="card">
                        <h3 class="card-title">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ</h3>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                        <th>Ø§Ù„Ø­Ø¶ÙˆØ±</th>
                                        <th>Ø§Ù„Ø§Ù†ØµØ±Ø§Ù</th>
                                        <th>Ø§Ù„Ø³Ø§Ø¹Ø§Øª</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                    </tr>
                                </thead>
                                <tbody id="attendanceTable">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Reports Page -->
                <div id="reportsPage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ“ˆ</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Report Cards -->
                    <div class="stats-grid mb-30" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="stat-card" onclick="showReport('sales')" style="cursor: pointer;">
                            <div class="stat-icon">ğŸ’°</div>
                            <div class="stat-value" id="reportTotalSales">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card" onclick="showReport('commissions')" style="cursor: pointer;">
                            <div class="stat-icon">ğŸ’µ</div>
                            <div class="stat-value" id="reportTotalCommissions">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card" onclick="showReport('benefits')" style="cursor: pointer;">
                            <div class="stat-icon">ğŸ</div>
                            <div class="stat-value" id="reportTotalBenefits">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</div>
                        </div>
                        
                        <div class="stat-card" onclick="showReport('attendance')" style="cursor: pointer;">
                            <div class="stat-icon">â°</div>
                            <div class="stat-value" id="reportTotalHours">0</div>
                            <div class="stat-label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</div>
                        </div>
                    </div>
                    
                    <!-- Sales Report -->
                    <div class="card mb-30">
                        <h3 class="card-title">ğŸ’° ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>
                        <div class="form-group mb-20">
                            <label class="form-label">ğŸ“… Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</label>
                            <select id="reportPeriod" class="form-control" onchange="updateReport()">
                                <option value="today">Ø§Ù„ÙŠÙˆÙ…</option>
                                <option value="week">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option>
                                <option value="month">Ø§Ù„Ø´Ù‡Ø±</option>
                                <option value="year">Ø§Ù„Ø³Ù†Ø©</option>
                            </select>
                        </div>
                        
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„ÙØªØ±Ø©</th>
                                        <th>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª</th>
                                        <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</th>
                                        <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª</th>
                                        <th>Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠ</th>
                                    </tr>
                                </thead>
                                <tbody id="salesReportTable">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Admin Page -->
                <div id="adminPage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ‘‘</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Admin Stats -->
                    <div class="stats-container mb-30">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ‘¥</div>
                            <div class="stat-value" id="adminTotalEmployees">0</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ’°</div>
                            <div class="stat-value" id="adminTotalSales">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ</div>
                            <div class="stat-value" id="adminTotalBenefits">0.00</div>
                            <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“Š</div>
                            <div class="stat-value" id="adminActiveCashiers">0</div>
                            <div class="stat-label">ÙƒØ§Ø´ÙŠØ± Ù†Ø´Ø·</div>
                        </div>
                    </div>
                    
                    <!-- Quick Admin Actions -->
                    <div class="card mb-30">
                        <h3 class="card-title">âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h3>
                        <div class="d-flex gap-20" style="flex-wrap: wrap;">
                            <button onclick="showAddEmployeeModal()" class="btn btn-primary">
                                <span>â•</span>
                                <span>Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù</span>
                            </button>
                            <button onclick="showAddBenefitModal()" class="btn btn-success">
                                <span>ğŸ</span>
                                <span>Ù…Ù†Ø­ Ù…ÙŠØ²Ø©</span>
                            </button>
                            <button onclick="generateReport()" class="btn btn-warning">
                                <span>ğŸ“Š</span>
                                <span>ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ</span>
                            </button>
                            <button onclick="showAllEmployees()" class="btn btn-primary">
                                <span>ğŸ‘¥</span>
                                <span>Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Employees Management -->
                    <div class="card">
                        <h3 class="card-title">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ø§Ù„Ø§Ø³Ù…</th>
                                        <th>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                                        <th>Ø§Ù„Ø¯ÙˆØ±</th>
                                        <th>Ø§Ù„Ø±Ø§ØªØ¨</th>
                                        <th>Ø§Ù„ØªØ¹ÙŠÙŠÙ†</th>
                                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                        <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody id="employeesTable">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Financial Controls -->
                    <div class="card mt-30">
                        <h3 class="card-title">ğŸ’° Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„ÙŠ</h3>
                        <div class="d-flex gap-20" style="flex-wrap: wrap;">
                            <button onclick="showFinancialReports()" class="btn btn-primary">
                                <span>ğŸ“Š</span>
                                <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©</span>
                            </button>
                            <button onclick="showSystemSettings()" class="btn btn-warning">
                                <span>âš™ï¸</span>
                                <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</span>
                            </button>
                            <button onclick="resetEmployeePassword()" class="btn btn-danger">
                                <span>ğŸ”‘</span>
                                <span>Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±</span>
                            </button>
                            <button onclick="exportData()" class="btn btn-success">
                                <span>ğŸ“¤</span>
                                <span>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Profile Page -->
                <div id="profilePage" class="page-container">
                    <div class="page-header">
                        <div class="d-flex align-center gap-20">
                            <div class="page-icon">ğŸ‘¤</div>
                            <h2 class="page-title" style="border: none; padding: 0; margin: 0;">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
                        </div>
                        <div class="d-flex gap-10">
                            <button onclick="showPage('dashboard')" class="btn btn-primary">
                                <span>â† Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Profile Info -->
                    <div class="card mb-30">
                        <div class="d-flex gap-20 align-center mb-30">
                            <div class="user-avatar" style="width: 100px; height: 100px; font-size: 40px;" id="profileAvatar">Ù…</div>
                            <div>
                                <h3 id="profileName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</h3>
                                <div id="profileRole" class="badge badge-primary" style="font-size: 16px; padding: 8px 16px;">Ø§Ù„Ø¯ÙˆØ±</div>
                                <div class="mt-10">ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†: <span id="profileHireDate">2024-01-01</span></div>
                            </div>
                        </div>
                        
                        <div class="row" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            <div class="form-group">
                                <label class="form-label">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                                <input type="text" class="form-control" id="profileUsername" readonly>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                <input type="email" class="form-control" id="profileEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                <input type="tel" class="form-control" id="profilePhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                                <input type="text" class="form-control" id="profileAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
                            </div>
                        </div>
                        
                        <div class="mt-30 d-flex gap-10">
                            <button class="btn btn-primary" onclick="updateProfile()">
                                <span>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</span>
                            </button>
                            <button class="btn btn-warning" onclick="showChangePasswordModal()">
                                <span>ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Profile Stats -->
                    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ“…</div>
                            <div class="stat-value" id="profileDays">0</div>
                            <div class="stat-label">Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ’°</div>
                            <div class="stat-value" id="profileSales">0.00</div>
                            <div class="stat-label">Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">ğŸ</div>
                            <div class="stat-value" id="profileBenefits">0.00</div>
                            <div class="stat-label">Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø´Ù‡Ø±</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">â°</div>
                            <div class="stat-value" id="profileAttendance">0%</div>
                            <div class="stat-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯</h3>
            <form id="newEmployeeForm">
                <div class="form-group">
                    <label class="form-label">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="newUsername" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="newPassword" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“› Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="newFullName" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ­ Ø§Ù„Ø¯ÙˆØ±</label>
                    <select id="newRole" class="form-control" required>
                        <option value="cashier">ÙƒØ§Ø´ÙŠØ±</option>
                        <option value="admin">Ù…Ø¯ÙŠØ±</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ’° Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
                    <input type="number" id="newSalary" class="form-control" required min="0" step="0.01">
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… Ø¥Ø¶Ø§ÙØ©</button>
                    <button type="button" onclick="hideModal('addEmployeeModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Benefit Modal -->
    <div id="addBenefitModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">ğŸ Ù…Ù†Ø­ Ù…ÙŠØ²Ø© Ù„Ù…ÙˆØ¸Ù</h3>
            <form id="addBenefitForm">
                <div class="form-group">
                    <label class="form-label">ğŸ‘¤ Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¸Ù</label>
                    <select id="benefitEmployee" class="form-control" required>
                        <!-- Dynamic options -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ Ù†ÙˆØ¹ Ø§Ù„Ù…ÙŠØ²Ø©</label>
                    <select id="benefitType" class="form-control" required>
                        <option value="bonus">Ù…ÙƒØ§ÙØ£Ø©</option>
                        <option value="allowance">Ø¨Ø¯Ù„</option>
                        <option value="incentive">Ø­Ø§ÙØ²</option>
                        <option value="commission">Ø¹Ù…ÙˆÙ„Ø© Ø¥Ø¶Ø§ÙÙŠØ©</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ’µ Ø§Ù„Ù…Ø¨Ù„Øº</label>
                    <input type="number" id="benefitAmount" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" required min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“ Ø§Ù„ÙˆØµÙ</label>
                    <textarea id="benefitDescription" class="form-control" placeholder="ÙˆØµÙ Ø§Ù„Ù…ÙŠØ²Ø©" rows="3"></textarea>
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… Ù…Ù†Ø­ Ø§Ù„Ù…ÙŠØ²Ø©</button>
                    <button type="button" onclick="hideModal('addBenefitModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label class="form-label">ğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
                    <input type="password" id="currentPassword" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ†• ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                    <input type="password" id="newPasswordChange" class="form-control" required minlength="6">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ”„ ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                    <input type="password" id="confirmPassword" class="form-control" required minlength="6">
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… ØªØºÙŠÙŠØ±</button>
                    <button type="button" onclick="hideModal('changePasswordModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Employee Modal -->
    <div id="editEmployeeModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù</h3>
            <form id="editEmployeeForm">
                <input type="hidden" id="editEmployeeId">
                <div class="form-group">
                    <label class="form-label">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" id="editUsername" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“› Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="editFullName" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ­ Ø§Ù„Ø¯ÙˆØ±</label>
                    <select id="editRole" class="form-control" required>
                        <option value="cashier">ÙƒØ§Ø´ÙŠØ±</option>
                        <option value="admin">Ù…Ø¯ÙŠØ±</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ’° Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
                    <input type="number" id="editSalary" class="form-control" required min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="editEmail" class="form-control">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="editPhone" class="form-control">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                    <input type="text" id="editAddress" class="form-control">
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                    <button type="button" onclick="hideModal('editEmployeeModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- System Settings Modal -->
    <div id="systemSettingsModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
            <form id="systemSettingsForm">
                <div class="form-group">
                    <label class="form-label">ğŸ’µ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (%)</label>
                    <input type="number" id="defaultCommissionRate" class="form-control" min="0" max="100" step="0.01" value="5">
                </div>
                
                <div class="form-group">
                    <label class="form-label">â° Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</label>
                    <input type="number" id="dailyWorkHours" class="form-control" min="1" max="24" value="8">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ’° Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø±Ø§ØªØ¨</label>
                    <input type="number" id="minSalary" class="form-control" min="0" step="0.01" value="2000">
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ“§ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <select id="emailNotifications" class="form-control">
                        <option value="enabled">Ù…ÙØ¹Ù„</option>
                        <option value="disabled">Ù…Ø¹Ø·Ù„</option>
                    </select>
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                    <button type="button" onclick="hideModal('systemSettingsModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Reset Password Modal -->
    <div id="resetPasswordModal" class="modal">
        <div class="modal-content">
            <h3 class="card-title mb-20">ğŸ”‘ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù…ÙˆØ¸Ù</h3>
            <form id="resetPasswordForm">
                <div class="form-group">
                    <label class="form-label">ğŸ‘¤ Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¸Ù</label>
                    <select id="resetEmployeeSelect" class="form-control" required>
                        <!-- Dynamic options -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ğŸ†• ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                    <input type="password" id="resetNewPassword" class="form-control" required minlength="6">
                </div>
                
                <div class="alert alert-warning">
                    âš ï¸ Ø³ÙŠØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø­Ø¯Ø¯. ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø®Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
                </div>
                
                <div class="d-flex gap-10 mt-30">
                    <button type="submit" class="btn btn-primary" style="flex: 1;">âœ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†</button>
                    <button type="button" onclick="hideModal('resetPasswordModal')" class="btn btn-danger" style="flex: 1;">âŒ Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Messages -->
    <div id="successMessage" class="alert alert-success d-none" style="position: fixed; top: 20px; right: 20px; z-index: 2000; max-width: 400px;">
        âœ… ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!
    </div>
    
    <div id="errorMessage" class="alert alert-danger d-none" style="position: fixed; top: 20px; right: 20px; z-index: 2000; max-width: 400px;">
        âŒ Ø­Ø¯Ø« Ø®Ø·Ø£!
    </div>

    <script>
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        let currentUser = null;
        let employees = [];
        let sales = [];
        let benefits = [];
        let attendance = [];
        let activities = [];
        let systemSettings = {
            defaultCommissionRate: 5,
            dailyWorkHours: 8,
            minSalary: 2000,
            emailNotifications: 'disabled'
        };
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        function initSystem() {
            loadData();
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            setupEventListeners();
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯
            if (employees.length === 0) {
                employees.push({
                    id: 1,
                    username: 'admin',
                    password: 'admin123',
                    fullName: 'Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…',
                    role: 'admin',
                    salary: 10000,
                    hireDate: new Date().toLocaleDateString('ar-EG'),
                    email: '',
                    phone: '',
                    address: ''
                });
                saveData();
            }
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function loadData() {
            const savedData = localStorage.getItem('restaurantData');
            if (savedData) {
                const data = JSON.parse(savedData);
                employees = data.employees || [];
                sales = data.sales || [];
                benefits = data.benefits || [];
                attendance = data.attendance || [];
                activities = data.activities || [];
                systemSettings = data.systemSettings || systemSettings;
            }
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function saveData() {
            const data = {
                employees,
                sales,
                benefits,
                attendance,
                activities,
                systemSettings
            };
            localStorage.setItem('restaurantData', JSON.stringify(data));
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG');
            const dateString = now.toLocaleDateString('ar-EG', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const timeElement = document.getElementById('currentTime');
            if (timeElement) {
                timeElement.textContent = `${dateString} - ${timeString}`;
            }
        }
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ¹
            document.getElementById('saleForm').addEventListener('submit', handleSale);
            document.getElementById('saleAmount').addEventListener('input', updateCommissionPreview);
            document.getElementById('commissionRate').addEventListener('change', updateCommissionPreview);
            
            // Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù
            document.getElementById('newEmployeeForm').addEventListener('submit', handleAddEmployee);
            
            // Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø©
            document.getElementById('addBenefitForm').addEventListener('submit', handleAddBenefit);
            
            // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            document.getElementById('changePasswordForm').addEventListener('submit', handleChangePassword);
            
            // ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¸Ù
            document.getElementById('editEmployeeForm').addEventListener('submit', handleEditEmployee);
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
            document.getElementById('systemSettingsForm').addEventListener('submit', handleSystemSettings);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±
            document.getElementById('resetPasswordForm').addEventListener('submit', handleResetPassword);
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            const user = employees.find(emp => 
                emp.username === username && emp.password === password
            );
            
            if (user) {
                currentUser = user;
                showApp();
                updateUI();
                showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!');
                
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                addActivity('ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„', 'Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…');
            } else {
                document.getElementById('loginAlert').classList.remove('d-none');
            }
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            addActivity('ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬', 'Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…');
            currentUser = null;
            showLogin();
            showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function showApp() {
            document.getElementById('loginScreen').classList.add('d-none');
            document.getElementById('appScreen').classList.remove('d-none');
            showPage('dashboard');
        }
        
        // Ø¹Ø±Ø¶ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function showLogin() {
            document.getElementById('loginScreen').classList.remove('d-none');
            document.getElementById('appScreen').classList.add('d-none');
            document.getElementById('loginAlert').classList.add('d-none');
            document.getElementById('loginForm').reset();
        }
        
        // Ø¹Ø±Ø¶ ØµÙØ­Ø©
        function showPage(pageId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
            const pages = document.querySelectorAll('.page-container');
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(pageId + 'Page').classList.add('active');
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø§Ø· Ù„Ø²Ø± Ø§Ù„ØªÙ†Ù‚Ù„
            const activeTab = Array.from(navTabs).find(tab => 
                tab.textContent.includes(getPageTitle(pageId))
            );
            if (activeTab) {
                activeTab.classList.add('active');
            }
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ØµÙØ­Ø©
            updateUIForPage(pageId);
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
        function getPageTitle(pageId) {
            const titles = {
                dashboard: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',
                sales: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',
                benefits: 'Ø§Ù„Ù…Ø²Ø§ÙŠØ§',
                attendance: 'Ø§Ù„Ø­Ø¶ÙˆØ±',
                admin: 'Ø§Ù„Ù…Ø¯ÙŠØ±',
                reports: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',
                profile: 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'
            };
            return titles[pageId] || pageId;
        }
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            if (!currentUser) return;
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('userName').textContent = currentUser.fullName;
            document.getElementById('userRole').textContent = currentUser.role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'ÙƒØ§Ø´ÙŠØ±';
            document.getElementById('userAvatar').textContent = currentUser.fullName.charAt(0);
            
            // Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ù…Ø¯ÙŠØ±
            const adminTab = document.getElementById('adminTab');
            adminTab.style.display = currentUser.role === 'admin' ? 'flex' : 'none';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats();
        }
        
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØµÙØ­Ø©
        function updateUIForPage(pageId) {
            if (!currentUser) return;
            
            switch(pageId) {
                case 'dashboard':
                    updateDashboard();
                    break;
                case 'sales':
                    updateSalesPage();
                    break;
                case 'benefits':
                    updateBenefitsPage();
                    break;
                case 'attendance':
                    updateAttendancePage();
                    break;
                case 'reports':
                    updateReportsPage();
                    break;
                case 'admin':
                    updateAdminPage();
                    break;
                case 'profile':
                    updateProfilePage();
                    break;
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function updateDashboard() {
            updateStats();
            updateRecentActivity();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        function updateSalesPage() {
            updateTodaySales();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ù…Ø²Ø§ÙŠØ§
        function updateBenefitsPage() {
            updateBenefitsTable();
            updateBenefitsStats();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ø­Ø¶ÙˆØ±
        function updateAttendancePage() {
            updateAttendanceTable();
            updateAttendanceStatus();
            updateAttendanceStats();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        function updateReportsPage() {
            updateReportStats();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±
        function updateAdminPage() {
            updateAdminStats();
            updateEmployeesTable();
        }
        
        // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function updateProfilePage() {
            updateProfileInfo();
            updateProfileStats();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateStats() {
            if (!currentUser) return;
            
            const userId = currentUser.id;
            
            // Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
            const userSales = sales.filter(s => s.employeeId === userId);
            const totalSales = userSales.reduce((sum, s) => sum + s.amount, 0);
            const totalCommission = userSales.reduce((sum, s) => sum + s.commission, 0);
            
            // Ø§Ù„Ù…Ø²Ø§ÙŠØ§
            const userBenefits = benefits.filter(b => b.employeeId === userId);
            const totalBenefits = userBenefits.reduce((sum, b) => sum + b.amount, 0);
            
            // Ø§Ù„Ø­Ø¶ÙˆØ±
            const userAttendance = attendance.filter(a => a.employeeId === userId);
            const totalHours = userAttendance.reduce((sum, a) => sum + (a.hours || 0), 0);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠÙ…
            document.getElementById('totalSales').textContent = totalSales.toFixed(2);
            document.getElementById('totalCommission').textContent = totalCommission.toFixed(2);
            document.getElementById('totalBenefits').textContent = totalBenefits.toFixed(2);
            document.getElementById('totalHours').textContent = totalHours.toFixed(1);
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹
        function handleSale(e) {
            e.preventDefault();
            
            if (!currentUser) {
                showError('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const amount = parseFloat(document.getElementById('saleAmount').value);
            const orderNumber = document.getElementById('orderNumber').value;
            const commissionRate = parseFloat(document.getElementById('commissionRate').value);
            
            if (amount <= 0) {
                showError('Ø§Ù„Ù…Ø¨Ù„Øº ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±!');
                return;
            }
            
            const commission = amount * commissionRate;
            const newSale = {
                id: sales.length + 1,
                employeeId: currentUser.id,
                amount: amount,
                commission: commission,
                orderNumber: orderNumber || `ORD-${Date.now().toString().slice(-6)}`,
                date: new Date().toLocaleString('ar-EG')
            };
            
            sales.push(newSale);
            saveData();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateStats();
            updateTodaySales();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('saleForm').reset();
            document.getElementById('commissionAmount').textContent = '0.00';
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø¨ÙŠØ¹', `ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ Ø¨Ù‚ÙŠÙ…Ø© ${amount.toFixed(2)} Ø¬Ù†ÙŠÙ‡`);
            
            showSuccess(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ù‚ÙŠÙ…Ø© ${amount.toFixed(2)} Ø¬Ù†ÙŠÙ‡!`);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©
        function updateCommissionPreview() {
            const amount = parseFloat(document.getElementById('saleAmount').value) || 0;
            const rate = parseFloat(document.getElementById('commissionRate').value);
            const commission = amount * rate;
            
            document.getElementById('commissionAmount').textContent = commission.toFixed(2);
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±
        function checkIn() {
            if (!currentUser) {
                showError('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const today = new Date().toLocaleDateString('ar-EG');
            const existing = attendance.find(a => 
                a.employeeId === currentUser.id && a.date === today
            );
            
            if (existing) {
                showError('Ù„Ù‚Ø¯ Ø³Ø¬Ù„Øª Ø­Ø¶ÙˆØ±Ùƒ Ø§Ù„ÙŠÙˆÙ… Ù…Ø³Ø¨Ù‚Ø§Ù‹!');
                return;
            }
            
            const newAttendance = {
                id: attendance.length + 1,
                employeeId: currentUser.id,
                checkIn: new Date().toLocaleTimeString('ar-EG'),
                checkOut: null,
                hours: null,
                date: today
            };
            
            attendance.push(newAttendance);
            saveData();
            
            updateAttendanceTable();
            updateAttendanceStatus();
            updateStats();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø­Ø¶ÙˆØ±', 'ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±');
            
            showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù†ØµØ±Ø§Ù
        function checkOut() {
            if (!currentUser) {
                showError('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const today = new Date().toLocaleDateString('ar-EG');
            const todayRecord = attendance.find(a => 
                a.employeeId === currentUser.id && a.date === today && !a.checkOut
            );
            
            if (!todayRecord) {
                showError('Ù„Ù… ØªØ³Ø¬Ù„ Ø­Ø¶ÙˆØ±Ùƒ Ø§Ù„ÙŠÙˆÙ… Ø¨Ø¹Ø¯!');
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ (8 Ø³Ø§Ø¹Ø§Øª ÙƒÙ…Ø«Ø§Ù„)
            todayRecord.checkOut = new Date().toLocaleTimeString('ar-EG');
            todayRecord.hours = 8;
            
            saveData();
            
            updateAttendanceTable();
            updateAttendanceStatus();
            updateStats();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø§Ù†ØµØ±Ø§Ù', 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù†ØµØ±Ø§Ù');
            
            showSuccess('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ù†ØµØ±Ø§Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¶ÙˆØ±
        function updateAttendanceStatus() {
            if (!currentUser) return;
            
            const today = new Date().toLocaleDateString('ar-EG');
            const todayRecord = attendance.find(a => 
                a.employeeId === currentUser.id && a.date === today
            );
            
            const status = document.getElementById('attendanceStatus');
            const checkInBtn = document.getElementById('checkInBtn');
            const checkOutBtn = document.getElementById('checkOutBtn');
            
            if (!todayRecord) {
                status.textContent = 'Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±';
                status.className = 'badge badge-warning';
                checkInBtn.disabled = false;
                checkOutBtn.disabled = true;
            } else if (!todayRecord.checkOut) {
                status.textContent = 'Ù…Ø³Ø¬Ù„ Ø­Ø¶ÙˆØ± - Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„';
                status.className = 'badge badge-success';
                checkInBtn.disabled = true;
                checkOutBtn.disabled = false;
            } else {
                status.textContent = 'Ù…Ø³Ø¬Ù„ Ø§Ù†ØµØ±Ø§Ù';
                status.className = 'badge badge-primary';
                checkInBtn.disabled = true;
                checkOutBtn.disabled = true;
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…
        function updateTodaySales() {
            if (!currentUser) return;
            
            const today = new Date().toLocaleDateString('ar-EG');
            const todaySales = sales.filter(s => 
                s.employeeId === currentUser.id && s.date.includes(today.split('ØŒ')[0])
            );
            
            const table = document.getElementById('todaySalesTable');
            table.innerHTML = '';
            
            todaySales.forEach((sale, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td class="text-success">${sale.amount.toFixed(2)} Ø¬</td>
                    <td class="text-primary">${sale.commission.toFixed(2)} Ø¬</td>
                    <td>${sale.orderNumber}</td>
                    <td>${sale.date.split('ØŒ')[1] || sale.date}</td>
                `;
                table.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø²Ø§ÙŠØ§
        function updateBenefitsTable() {
            if (!currentUser) return;
            
            const userBenefits = benefits.filter(b => b.employeeId === currentUser.id);
            
            const table = document.getElementById('benefitsTable');
            table.innerHTML = '';
            
            const types = {
                bonus: 'Ù…ÙƒØ§ÙØ£Ø©',
                allowance: 'Ø¨Ø¯Ù„',
                incentive: 'Ø­Ø§ÙØ²',
                commission: 'Ø¹Ù…ÙˆÙ„Ø©'
            };
            
            userBenefits.forEach(benefit => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><span class="badge badge-primary">${types[benefit.type] || benefit.type}</span></td>
                    <td class="text-success">${benefit.amount.toFixed(2)} Ø¬</td>
                    <td>${benefit.date}</td>
                    <td>${benefit.description || '-'}</td>
                    <td><span class="badge badge-success">Ù…Ø³ØªÙ„Ù…Ø©</span></td>
                `;
                table.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø§ÙŠØ§
        function updateBenefitsStats() {
            if (!currentUser) return;
            
            const userBenefits = benefits.filter(b => b.employeeId === currentUser.id);
            const total = userBenefits.reduce((sum, b) => sum + b.amount, 0);
            const commissions = sales
                .filter(s => s.employeeId === currentUser.id)
                .reduce((sum, s) => sum + s.commission, 0);
            const avg = userBenefits.length > 0 ? total / userBenefits.length : 0;
            
            document.getElementById('monthBenefits').textContent = total.toFixed(2);
            document.getElementById('totalCommissions').textContent = commissions.toFixed(2);
            document.getElementById('avgBenefit').textContent = avg.toFixed(2);
            document.getElementById('benefitsCount').textContent = userBenefits.length;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±
        function updateAttendanceTable() {
            if (!currentUser) return;
            
            const userAttendance = attendance.filter(a => a.employeeId === currentUser.id);
            
            const table = document.getElementById('attendanceTable');
            table.innerHTML = '';
            
            userAttendance.forEach(att => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${att.date}</td>
                    <td>${att.checkIn || '-'}</td>
                    <td>${att.checkOut || '-'}</td>
                    <td>${att.hours ? att.hours.toFixed(1) : '-'}</td>
                    <td>
                        ${att.checkOut ? 
                            '<span class="badge badge-success">Ù…ÙƒØªÙ…Ù„</span>' : 
                            '<span class="badge badge-warning">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„</span>'
                        }
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ø¶ÙˆØ±
        function updateAttendanceStats() {
            if (!currentUser) return;
            
            const userAttendance = attendance.filter(a => a.employeeId === currentUser.id);
            const daysPresent = userAttendance.length;
            const totalHours = userAttendance.reduce((sum, a) => sum + (a.hours || 0), 0);
            const rate = daysPresent > 0 ? '100%' : '0%';
            
            document.getElementById('daysPresent').textContent = daysPresent;
            document.getElementById('totalWorkHours').textContent = totalHours.toFixed(1);
            document.getElementById('attendanceRate').textContent = rate;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯
        function handleAddEmployee(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸ÙÙŠÙ†!');
                return;
            }
            
            const newSalary = parseFloat(document.getElementById('newSalary').value);
            if (newSalary < systemSettings.minSalary) {
                showError(`Ø§Ù„Ø±Ø§ØªØ¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ${systemSettings.minSalary} Ø¬Ù†ÙŠÙ‡!`);
                return;
            }
            
            const newEmployee = {
                id: employees.length + 1,
                username: document.getElementById('newUsername').value,
                password: document.getElementById('newPassword').value,
                fullName: document.getElementById('newFullName').value,
                role: document.getElementById('newRole').value,
                salary: newSalary,
                hireDate: new Date().toLocaleDateString('ar-EG'),
                email: '',
                phone: '',
                address: ''
            };
            
            employees.push(newEmployee);
            saveData();
            
            updateEmployeesTable();
            updateAdminStats();
            
            hideModal('addEmployeeModal');
            document.getElementById('newEmployeeForm').reset();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù', `Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ¸Ù ${newEmployee.fullName}`);
            
            showSuccess('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø© Ù„Ù…ÙˆØ¸Ù
        function handleAddBenefit(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù†Ø­ Ø§Ù„Ù…Ø²Ø§ÙŠØ§!');
                return;
            }
            
            const employeeId = parseInt(document.getElementById('benefitEmployee').value);
            const type = document.getElementById('benefitType').value;
            const amount = parseFloat(document.getElementById('benefitAmount').value);
            const description = document.getElementById('benefitDescription').value;
            
            if (amount <= 0) {
                showError('Ø§Ù„Ù…Ø¨Ù„Øº ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±!');
                return;
            }
            
            const newBenefit = {
                id: benefits.length + 1,
                employeeId: employeeId,
                type: type,
                amount: amount,
                description: description,
                date: new Date().toLocaleString('ar-EG')
            };
            
            benefits.push(newBenefit);
            saveData();
            
            updateBenefitsTable();
            updateBenefitsStats();
            updateAdminStats();
            
            hideModal('addBenefitModal');
            document.getElementById('addBenefitForm').reset();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            const employee = employees.find(emp => emp.id === employeeId);
            addActivity('Ù…Ù†Ø­ Ù…ÙŠØ²Ø©', `Ù…Ù†Ø­ ${amount.toFixed(2)} Ø¬Ù†ÙŠÙ‡ Ù„Ù€ ${employee.fullName}`);
            
            showSuccess('ØªÙ… Ù…Ù†Ø­ Ø§Ù„Ù…ÙŠØ²Ø© Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function handleChangePassword(e) {
            e.preventDefault();
            
            if (!currentUser) {
                showError('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }
            
            const currentPass = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPasswordChange').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (currentPass !== currentUser.password) {
                showError('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
                return;
            }
            
            if (newPass !== confirmPass) {
                showError('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©!');
                return;
            }
            
            if (newPass.length < 6) {
                showError('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!');
                return;
            }
            
            currentUser.password = newPass;
            saveData();
            
            hideModal('changePasswordModal');
            document.getElementById('changePasswordForm').reset();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', 'ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
            
            showSuccess('ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¸Ù
        function editEmployee(employeeId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†!');
                return;
            }
            
            const employee = employees.find(emp => emp.id === employeeId);
            if (!employee) {
                showError('Ø§Ù„Ù…ÙˆØ¸Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
                return;
            }
            
            document.getElementById('editEmployeeId').value = employee.id;
            document.getElementById('editUsername').value = employee.username;
            document.getElementById('editFullName').value = employee.fullName;
            document.getElementById('editRole').value = employee.role;
            document.getElementById('editSalary').value = employee.salary;
            document.getElementById('editEmail').value = employee.email || '';
            document.getElementById('editPhone').value = employee.phone || '';
            document.getElementById('editAddress').value = employee.address || '';
            
            showModal('editEmployeeModal');
        }
        
        // Ø­Ø°Ù Ù…ÙˆØ¸Ù
        function deleteEmployee(employeeId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†!');
                return;
            }
            
            if (employeeId === 1) {
                showError('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ!');
                return;
            }
            
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¸ÙØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡.')) {
                return;
            }
            
            // Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸Ù
            employees = employees.filter(emp => emp.id !== employeeId);
            
            // Ø­Ø°Ù Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ§ ÙˆØ§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡
            sales = sales.filter(s => s.employeeId !== employeeId);
            benefits = benefits.filter(b => b.employeeId !== employeeId);
            attendance = attendance.filter(a => a.employeeId !== employeeId);
            activities = activities.filter(a => a.employeeId !== employeeId);
            
            saveData();
            
            updateEmployeesTable();
            updateAdminStats();
            updateStats();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø­Ø°Ù Ù…ÙˆØ¸Ù', `ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸Ù Ø±Ù‚Ù… ${employeeId}`);
            
            showSuccess('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸Ù
        function handleEditEmployee(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†!');
                return;
            }
            
            const employeeId = parseInt(document.getElementById('editEmployeeId').value);
            const employee = employees.find(emp => emp.id === employeeId);
            
            if (!employee) {
                showError('Ø§Ù„Ù…ÙˆØ¸Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
                return;
            }
            
            const newSalary = parseFloat(document.getElementById('editSalary').value);
            if (newSalary < systemSettings.minSalary) {
                showError(`Ø§Ù„Ø±Ø§ØªØ¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ${systemSettings.minSalary} Ø¬Ù†ÙŠÙ‡!`);
                return;
            }
            
            employee.username = document.getElementById('editUsername').value;
            employee.fullName = document.getElementById('editFullName').value;
            employee.role = document.getElementById('editRole').value;
            employee.salary = newSalary;
            employee.email = document.getElementById('editEmail').value;
            employee.phone = document.getElementById('editPhone').value;
            employee.address = document.getElementById('editAddress').value;
            
            saveData();
            
            updateEmployeesTable();
            updateAdminStats();
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡ØŒ Ø­Ø¯Ø« currentUser
            if (currentUser.id === employeeId) {
                currentUser = employee;
                updateUI();
            }
            
            hideModal('editEmployeeModal');
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('ØªØ¹Ø¯ÙŠÙ„ Ù…ÙˆØ¸Ù', `ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù ${employee.fullName}`);
            
            showSuccess('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        function handleSystemSettings(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…!');
                return;
            }
            
            systemSettings.defaultCommissionRate = parseFloat(document.getElementById('defaultCommissionRate').value);
            systemSettings.dailyWorkHours = parseInt(document.getElementById('dailyWorkHours').value);
            systemSettings.minSalary = parseFloat(document.getElementById('minSalary').value);
            systemSettings.emailNotifications = document.getElementById('emailNotifications').value;
            
            saveData();
            
            hideModal('systemSettingsModal');
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…', 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…');
            
            showSuccess('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function handleResetPassword(e) {
            e.preventDefault();
            
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±!');
                return;
            }
            
            const employeeId = parseInt(document.getElementById('resetEmployeeSelect').value);
            const newPassword = document.getElementById('resetNewPassword').value;
            
            const employee = employees.find(emp => emp.id === employeeId);
            if (!employee) {
                showError('Ø§Ù„Ù…ÙˆØ¸Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!');
                return;
            }
            
            employee.password = newPassword;
            saveData();
            
            hideModal('resetPasswordModal');
            document.getElementById('resetPasswordForm').reset();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±', `ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ${employee.fullName}`);
            
            showSuccess('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
        function updateEmployeesTable() {
            const table = document.getElementById('employeesTable');
            table.innerHTML = '';
            
            const roles = {
                cashier: 'ÙƒØ§Ø´ÙŠØ±',
                admin: 'Ù…Ø¯ÙŠØ±'
            };
            
            employees.forEach(emp => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${emp.fullName}</td>
                    <td>${emp.username}</td>
                    <td><span class="badge badge-primary">${roles[emp.role] || emp.role}</span></td>
                    <td class="text-success">${emp.salary.toFixed(2)} Ø¬</td>
                    <td>${emp.hireDate}</td>
                    <td><span class="badge badge-success">Ù†Ø´Ø·</span></td>
                    <td>
                        <button onclick="editEmployee(${emp.id})" class="btn btn-warning btn-sm">
                            <span>âœï¸</span>
                        </button>
                        <button onclick="deleteEmployee(${emp.id})" class="btn btn-danger btn-sm" ${emp.id === 1 ? 'disabled' : ''}>
                            <span>ğŸ—‘ï¸</span>
                        </button>
                    </td>
                `;
                table.appendChild(row);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±
        function updateAdminStats() {
            document.getElementById('adminTotalEmployees').textContent = employees.length;
            
            const totalSales = sales.reduce((sum, s) => sum + s.amount, 0);
            document.getElementById('adminTotalSales').textContent = totalSales.toFixed(2);
            
            const totalBenefits = benefits.reduce((sum, b) => sum + b.amount, 0);
            document.getElementById('adminTotalBenefits').textContent = totalBenefits.toFixed(2);
            
            const activeCashiers = employees.filter(emp => emp.role === 'cashier').length;
            document.getElementById('adminActiveCashiers').textContent = activeCashiers;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        function updateReportStats() {
            if (!currentUser) return;
            
            const userId = currentUser.id;
            const userSales = sales.filter(s => s.employeeId === userId);
            const userBenefits = benefits.filter(b => b.employeeId === userId);
            const userAttendance = attendance.filter(a => a.employeeId === userId);
            
            const totalSales = userSales.reduce((sum, s) => sum + s.amount, 0);
            const totalCommissions = userSales.reduce((sum, s) => sum + s.commission, 0);
            const totalBenefits = userBenefits.reduce((sum, b) => sum + b.amount, 0);
            const totalHours = userAttendance.reduce((sum, a) => sum + (a.hours || 0), 0);
            
            document.getElementById('reportTotalSales').textContent = totalSales.toFixed(2);
            document.getElementById('reportTotalCommissions').textContent = totalCommissions.toFixed(2);
            document.getElementById('reportTotalBenefits').textContent = totalBenefits.toFixed(2);
            document.getElementById('reportTotalHours').textContent = totalHours.toFixed(1);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function updateProfileInfo() {
            if (!currentUser) return;
            
            document.getElementById('profileName').textContent = currentUser.fullName;
            document.getElementById('profileRole').textContent = currentUser.role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'ÙƒØ§Ø´ÙŠØ±';
            document.getElementById('profileAvatar').textContent = currentUser.fullName.charAt(0);
            document.getElementById('profileUsername').value = currentUser.username;
            document.getElementById('profileHireDate').textContent = currentUser.hireDate;
            document.getElementById('profileEmail').value = currentUser.email || '';
            document.getElementById('profilePhone').value = currentUser.phone || '';
            document.getElementById('profileAddress').value = currentUser.address || '';
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function updateProfileStats() {
            if (!currentUser) return;
            
            const userId = currentUser.id;
            const userSales = sales.filter(s => s.employeeId === userId);
            const userBenefits = benefits.filter(b => b.employeeId === userId);
            const userAttendance = attendance.filter(a => a.employeeId === userId);
            
            document.getElementById('profileDays').textContent = userAttendance.length;
            
            const monthSales = userSales.reduce((sum, s) => sum + s.amount, 0);
            document.getElementById('profileSales').textContent = monthSales.toFixed(2);
            
            const monthBenefits = userBenefits.reduce((sum, b) => sum + b.amount, 0);
            document.getElementById('profileBenefits').textContent = monthBenefits.toFixed(2);
            
            const attendanceRate = userAttendance.length > 0 ? '100%' : '0%';
            document.getElementById('profileAttendance').textContent = attendanceRate;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
        function addActivity(type, description) {
            const activity = {
                id: activities.length + 1,
                employeeId: currentUser.id,
                type: type,
                description: description,
                date: new Date().toLocaleString('ar-EG')
            };
            
            activities.push(activity);
            saveData();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
        function updateRecentActivity() {
            const table = document.getElementById('recentActivityTable');
            table.innerHTML = '';
            
            const userActivities = activities
                .filter(a => a.employeeId === currentUser.id)
                .slice(-5)
                .reverse();
            
            userActivities.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.description}</td>
                    <td>${activity.date}</td>
                    <td><span class="badge badge-success">Ù…ÙƒØªÙ…Ù„</span></td>
                `;
                table.appendChild(row);
            });
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø©
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
        function showSuccess(message) {
            const msg = document.getElementById('successMessage');
            msg.textContent = message;
            msg.classList.remove('d-none');
            
            setTimeout(() => {
                msg.classList.add('d-none');
            }, 3000);
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£
        function showError(message) {
            const msg = document.getElementById('errorMessage');
            msg.textContent = message;
            msg.classList.remove('d-none');
            
            setTimeout(() => {
                msg.classList.add('d-none');
            }, 3000);
        }
        
        // Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ©
        function showAddEmployeeModal() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸ÙÙŠÙ†!');
                return;
            }
            
            showModal('addEmployeeModal');
        }
        
        function showAddBenefitModal() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù†Ø­ Ø§Ù„Ù…Ø²Ø§ÙŠØ§!');
                return;
            }
            
            // Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
            const select = document.getElementById('benefitEmployee');
            select.innerHTML = '';
            
            employees.forEach(emp => {
                const option = document.createElement('option');
                option.value = emp.id;
                option.textContent = `${emp.fullName} (${emp.username})`;
                select.appendChild(option);
            });
            
            showModal('addBenefitModal');
        }
        
        function generateReport() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±!');
                return;
            }
            
            // Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø¨Ø³ÙŠØ·
            const totalEmployees = employees.length;
            const totalSales = sales.reduce((sum, s) => sum + s.amount, 0);
            const totalBenefits = benefits.reduce((sum, b) => sum + b.amount, 0);
            const totalAttendance = attendance.length;
            
            const report = `
ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ - ${new Date().toLocaleDateString('ar-EG')}

Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†: ${totalEmployees}
Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ${totalSales.toFixed(2)} Ø¬Ù†ÙŠÙ‡
Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§: ${totalBenefits.toFixed(2)} Ø¬Ù†ÙŠÙ‡
Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£ÙŠØ§Ù… Ø§Ù„Ø­Ø¶ÙˆØ±: ${totalAttendance}

ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!
            `;
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ modal Ø£Ùˆ ØªÙ†Ø²ÙŠÙ„Ù‡
            alert(report);
            showSuccess('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±!');
        }
        
        function showAllEmployees() {
            showPage('admin');
        }
        
        function showReport(type) {
            if (!currentUser) return;
            
            let reportData = '';
            const userId = currentUser.id;
            
            switch(type) {
                case 'sales':
                    const userSales = sales.filter(s => s.employeeId === userId);
                    const totalSales = userSales.reduce((sum, s) => sum + s.amount, 0);
                    reportData = `ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: ${totalSales.toFixed(2)} Ø¬Ù†ÙŠÙ‡\nØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª: ${userSales.length}`;
                    break;
                case 'commissions':
                    const commissions = sales.filter(s => s.employeeId === userId).reduce((sum, s) => sum + s.commission, 0);
                    reportData = `ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª:\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª: ${commissions.toFixed(2)} Ø¬Ù†ÙŠÙ‡`;
                    break;
                case 'benefits':
                    const userBenefits = benefits.filter(b => b.employeeId === userId);
                    const totalBenefits = userBenefits.reduce((sum, b) => sum + b.amount, 0);
                    reportData = `ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø²Ø§ÙŠØ§:\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§: ${totalBenefits.toFixed(2)} Ø¬Ù†ÙŠÙ‡\nØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø²Ø§ÙŠØ§: ${userBenefits.length}`;
                    break;
                case 'attendance':
                    const userAttendance = attendance.filter(a => a.employeeId === userId);
                    const totalHours = userAttendance.reduce((sum, a) => sum + (a.hours || 0), 0);
                    reportData = `ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ±:\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª: ${totalHours.toFixed(1)}\nØ£ÙŠØ§Ù… Ø§Ù„Ø­Ø¶ÙˆØ±: ${userAttendance.length}`;
                    break;
            }
            
            alert(reportData);
            showSuccess(`ØªÙ… Ø¹Ø±Ø¶ ØªÙ‚Ø±ÙŠØ± ${type}!`);
        }
        
        function updateReport() {
            updateReportStats();
        }
        
        function updateProfile() {
            if (!currentUser) return;
            
            const email = document.getElementById('profileEmail').value;
            const phone = document.getElementById('profilePhone').value;
            const address = document.getElementById('profileAddress').value;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…ÙˆØ¸Ù)
            currentUser.email = email;
            currentUser.phone = phone;
            currentUser.address = address;
            
            saveData();
            showSuccess('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ!');
        }
        
        function showChangePasswordModal() {
            showModal('changePasswordModal');
        }
        
        function showFinancialReports() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©!');
                return;
            }
            
            const totalRevenue = sales.reduce((sum, s) => sum + s.amount, 0);
            const totalCommissions = sales.reduce((sum, s) => sum + s.commission, 0);
            const totalBenefits = benefits.reduce((sum, b) => sum + b.amount, 0);
            const totalSalaries = employees.reduce((sum, emp) => sum + emp.salary, 0);
            const netProfit = totalRevenue - totalCommissions - totalBenefits - totalSalaries;
            
            const report = `
Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ - ${new Date().toLocaleDateString('ar-EG')}

ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: ${totalRevenue.toFixed(2)} Ø¬Ù†ÙŠÙ‡
ğŸ’µ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª: ${totalCommissions.toFixed(2)} Ø¬Ù†ÙŠÙ‡
ğŸ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø²Ø§ÙŠØ§: ${totalBenefits.toFixed(2)} Ø¬Ù†ÙŠÙ‡
ğŸ’¼ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ÙˆØ§ØªØ¨: ${totalSalaries.toFixed(2)} Ø¬Ù†ÙŠÙ‡
ğŸ“ˆ ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: ${netProfit.toFixed(2)} Ø¬Ù†ÙŠÙ‡

ØªÙØµÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ¸Ù:
${employees.map(emp => {
    const empSales = sales.filter(s => s.employeeId === emp.id).reduce((sum, s) => sum + s.amount, 0);
    const empCommissions = sales.filter(s => s.employeeId === emp.id).reduce((sum, s) => sum + s.commission, 0);
    const empBenefits = benefits.filter(b => b.employeeId === emp.id).reduce((sum, b) => sum + b.amount, 0);
    return `${emp.fullName}: Ù…Ø¨ÙŠØ¹Ø§Øª ${empSales.toFixed(2)}Ø¬ØŒ Ø¹Ù…ÙˆÙ„Ø§Øª ${empCommissions.toFixed(2)}Ø¬ØŒ Ù…Ø²Ø§ÙŠØ§ ${empBenefits.toFixed(2)}Ø¬`;
}).join('\n')}
            `;
            
            alert(report);
            showSuccess('ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ!');
        }
        
        function showSystemSettings() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…!');
                return;
            }
            
            document.getElementById('defaultCommissionRate').value = systemSettings.defaultCommissionRate;
            document.getElementById('dailyWorkHours').value = systemSettings.dailyWorkHours;
            document.getElementById('minSalary').value = systemSettings.minSalary;
            document.getElementById('emailNotifications').value = systemSettings.emailNotifications;
            
            showModal('systemSettingsModal');
        }
        
        function resetEmployeePassword() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±!');
                return;
            }
            
            const select = document.getElementById('resetEmployeeSelect');
            select.innerHTML = '';
            
            employees.forEach(emp => {
                if (emp.id !== 1) { // Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
                    const option = document.createElement('option');
                    option.value = emp.id;
                    option.textContent = `${emp.fullName} (${emp.username})`;
                    select.appendChild(option);
                }
            });
            
            showModal('resetPasswordModal');
        }
        
        function exportData() {
            if (!currentUser || currentUser.role !== 'admin') {
                showError('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!');
                return;
            }
            
            const data = {
                employees: employees,
                sales: sales,
                benefits: benefits,
                attendance: attendance,
                activities: activities,
                systemSettings: systemSettings,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `restaurant_backup_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
            addActivity('ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'ØªÙ… ØªØµØ¯ÙŠØ± Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
            
            showSuccess('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', initSystem);
    </script>
</body>
</html>
